<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>إدارة المنتجات — Zuwam Shop</title>
<style>
body {font-family:"Tahoma",sans-serif; background:#eef2f7; margin:0; padding:20px;}
body::before {content:"zuwam"; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); font-size:120px; color:rgba(0,0,0,0.05); font-weight:900; z-index:0; pointer-events:none;}
h2{color:#003f8c;}
input, button{padding:8px 12px; margin:5px;}
button{cursor:pointer;}
table{width:100%; border-collapse:collapse; margin-top:20px;}
th,td{padding:10px; border:1px solid #ccc;}
th{background:#007bff; color:white;}
</style>
</head>
<body>

<h2>⚙ إدارة المنتجات</h2>

<form id="product-form">
    <input type="text" id="name" placeholder="اسم المنتج" required>
    <input type="text" id="description" placeholder="الوصف" required>
    <input type="number" id="price" placeholder="السعر" required>
    <input type="text" id="image" placeholder="رابط الصورة" required>
    <button type="submit">إضافة المنتج</button>
</form>

<table>
<thead><tr><th>الاسم</th><th>الوصف</th><th>السعر</th><th>رابط الصورة</th><th>حذف</th></tr></thead>
<tbody id="product-table"></tbody>
</table>

<script>
let products=JSON.parse(localStorage.getItem("products"))||[];
function displayAdmin(){
    const tbody=document.getElementById("product-table");
    tbody.innerHTML="";
    products.forEach((p,index)=>{
        let row=document.createElement("tr");
        row.innerHTML=`<td>${p.name}</td><td>${p.description}</td><td>${p.price}</td><td><a href="${p.image}" target="_blank">عرض الصورة</a></td>
        <td><button onclick="deleteProduct(${index})" style="background:#ff4d4d;color:white;border:none;padding:5px 8px;border-radius:5px;">حذف</button></td>`;
        tbody.appendChild(row);
    });
    localStorage.setItem("products",JSON.stringify(products));
}
displayAdmin();

document.getElementById("product-form").addEventListener("submit",function(e){
    e.preventDefault();
    let name=document.getElementById("name").value;
    let description=document.getElementById("description").value;
    let price=parseFloat(document.getElementById("price").value);
    let image=document.getElementById("image").value;
    products.push({id:Date.now(),name,description,price,image});
    document.getElementById("product-form").reset();
    displayAdmin();
});

function deleteProduct(index){
    products.splice(index,1);
    displayAdmin();
}
</script>

</body>
</html>
