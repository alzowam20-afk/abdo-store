<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>إدارة المنتجات — Zuwam</title>
<style>
body{font-family:"Tahoma";background:#eef2f7;padding:20px;}
input,button{padding:10px;margin:5px;border-radius:6px;}
table{width:100%;margin-top:20px;border-collapse:collapse;}
td,th{border:1px solid #ccc;padding:10px;}
th{background:#007bff;color:white;}
</style>
</head>
<body>

<h2>إدارة المنتجات</h2>

<input id="name" placeholder="اسم المنتج">
<input id="description" placeholder="الوصف">
<input id="price" type="number" placeholder="السعر">
<input id="image" placeholder="رابط الصورة">
<button onclick="addProduct()">إضافة المنتج</button>

<table>
<thead>
<tr><th>اسم</th><th>وصف</th><th>سعر</th><th>صورة</th><th>حذف</th></tr>
</thead>
<tbody id="table"></tbody>
</table>

<script>
function load(){
    let products=JSON.parse(localStorage.getItem("products"))||[];
    let tbody=document.getElementById("table");
    tbody.innerHTML="";
    products.forEach((p,i)=>{
        tbody.innerHTML+=`
        <tr>
           <td>${p.name}</td>
           <td>${p.description}</td>
           <td>${p.price}</td>
           <td><img src="${p.image}" width="50"></td>
           <td><button onclick="removeP(${i})">حذف</button></td>
        </tr>`;
    });
}

function addProduct(){
    let name=document.getElementById("name").value;
    let description=document.getElementById("description").value;
    let price=document.getElementById("price").value;
    let image=document.getElementById("image").value;

    let products=JSON.parse(localStorage.getItem("products"))||[];
    products.push({id:Date.now(),name,description,price,image});
    localStorage.setItem("products",JSON.stringify(products));

    window.dispatchEvent(new Event("storage"));
    load();
}

function removeP(i){
    let products=JSON.parse(localStorage.getItem("products"))||[];
    products.splice(i,1);
    localStorage.setItem("products",JSON.stringify(products));
    window.dispatchEvent(new Event("storage"));
    load();
}

load();
</script>

</body>
</html>
